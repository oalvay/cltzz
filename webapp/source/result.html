<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<!-- import CSS -->
		<link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
		<link rel="stylesheet" href="./css/index.css">
		<link rel="stylesheet" href="./css/result.css">
		<!-- import Vue before Element -->
		<script src="https://unpkg.com/vue/dist/vue.js"></script>
		<!-- import         JavaScript -->
		<script src="https://unpkg.com/element-ui/lib/index.js"></script>
		<!-- import JQuery -->
		<script src="https://cdn.staticfile.org/jquery/3.1.1/jquery.min.js"></script>
		<script type="text/javascript">
			window.onload
		</script>
		<style type="text/css">
			.header_search{
				margin-top: 40px;
			}
			.header_searchbar{
				text-align: left;
				margin-left: 30px;
				margin-top: 30px;
			}
			#logo{
				margin-bottom: 10px;
				margin-right: 10px;
				width: 80px; 
				height: 80px;
			}
		</style>
	</head>
	<body>
		
 		<el-container>
 			<el-header style="top: 2px;">

				
				<div class="header_searchbar" id="searchbar">
					
	 					<el-form inline=True label-width="10%" :model="info" style="margin-top: 1%;width: 90%">
	 						<el-image onclick="window.location.href = 'index.html'" id="logo" style="" src="./pics/logo.png"></el-image>
	 						<el-form-item >
								<el-input class="header_search"  placeholder="" v-model="info.studentNumber" :disabled="false" style="width: 400px;">
								<i slot="prefix" class="el-input__icon el-icon-search"></i>
							</el-form-item>
	 						<el-form-item >
									<el-button class="header_search" type="primary" @click="search">Search</el-button>
									<el-button type="primary" @click="search">Advanced</el-button>
							</el-form-item>


						</el-form>
 					
 				</div>
 				
 			</el-header>
 			<el-main>

 				<div style="height: 100px;"></div>
				<div class="result_body" id="result">
				<div v-for="(result, n) in results">
				<div class="result_card">
				<h2 class="result_title">{{result.title}}</h2>
				<div class="result_snippet">{{result.abstract}}</div>
			</div>
			</div>
			
		</div>
 			</el-main>
 			<el-footer>
 				<div style="text-align: center;">
 				presented by cltzz
 				</div>
 			</el-footer>
 		</el-container>
		
	</body>
	<script type="text/javascript">
		new Vue({
			el: '#result',
			data: {
				results:[]
			},
			mounted() {
    		if (localStorage.getItem('results')) {
	      		try {
	        		this.results = JSON.parse(localStorage.getItem('results'));
	      		} catch(e) {
	        		localStorage.removeItem('results');
	      		}
      		}
      	}
		});
	</script>
	<script>
		new Vue({
			el: '#searchbar',
			data: function() {
				return {
					info: {
						query: '',
					},
					role:'user'
				}
			},
			methods: {
				currRole(selVal){
					this.role = selVal;
					sessionStorage.setItem('role', this.role);
				},
				search(){
					var _self = this;
					window.location.href = 'result.html';
					
				},
				
			}
		});
	</script>
</html>
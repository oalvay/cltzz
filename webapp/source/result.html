<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<!-- import CSS -->
		<link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
		<link rel="stylesheet" href="./css/index.css">
		<link rel="stylesheet" href="./css/result.css">
		<!-- import Vue before Element -->
		<script src="https://unpkg.com/vue/dist/vue.js"></script>
		<!-- import         JavaScript -->
		<script src="https://unpkg.com/element-ui/lib/index.js"></script>
		<!-- import JQuery -->

    	<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    	<script src="https://cdn.staticfile.org/jquery/3.1.1/jquery.min.js"></script>
		<style type="text/css">
			
		</style>
	</head>
	<body>
		
 		<el-container>
 			<el-header style="top: 2px;">

				
				<div class="header_searchbar" id="searchbar">
					
	 					<el-form :inline="true" label-width="10%" @keyup.enter.native="search" @submit.native.prevent style="margin-top: 1%;width: 90%">
	 						<el-image onclick="window.location.href = 'index.html'" id="logo" style="" src="./pics/logo.png"></el-image>
	 						<el-form-item >
								<!-- <el-input class="header_search"  placeholder="" v-model="info.studentNumber" :disabled="false" style="width: 400px;"> -->
								<el-autocomplete id ="queryTextBox" style="width: 400px;" class="inline-input header_search" v-model="query" :fetch-suggestions="querySearch" placeholder="" :trigger-on-focus="false" @select="handleSelect" @keyup.enter.native="search">	
								</el-autocomplete>
								
								<i slot="prefix" class="el-input__icon el-icon-search"></i>
							</el-form-item>
	 						<el-form-item >
									<el-button class="header_search" type="primary" @click="search">Search</el-button>
									<el-button type="primary" @click="search">Advanced</el-button>
							</el-form-item>
						</el-form>
						<div id ="suggest"></div>
						
 				</div>
 				
 			</el-header>
 			<el-main>

 				<div style="height: 60px;">
 					
 				</div>
				<div class="result_body" id="result">
					<div v-for="(result, n) in results_page">
						<div class="result_card">
							<a @click="detail(result.id)">
							<h2 class="result_title">{{result.title}}</h2>
							</a>
							
							<h2 class="result_title">{{result.artist}}</h2>
							
							<div class="result_snippet">{{result.abstract}}</div>
						</div>
					</div>
					<el-pagination background layout="prev, pager, next" 
					:page-size="10"
					@current-change="handleCurrentChange"
					:page-count="page_count"
					>
					</el-pagination>
					
				</div>
				
 			</el-main>
 			<el-footer>
 				<div style="text-align: center;">
 				presented by cltzz
 				</div>
 			</el-footer>
 		</el-container>
		
	</body>
	<script type="text/javascript">
							let suggest = sessionStorage.getItem('do_you_mean');
							console.log(suggest)
							if(!suggest && suggest!==""){
								var div = document.getElementById('suggest');
								div.innerText='Do you mean \"'+suggest+' ?';
							}
						</script>
		<script type="text/javascript" src="./js/config.js"></script>
		<script type="text/javascript" src="./js/vocab.js"></script>
		<script type="text/javascript" src="./js/index.js"></script>
		<script type="text/javascript" src="./js/result.js"></script>
</html>
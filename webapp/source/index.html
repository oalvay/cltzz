<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<!-- import CSS -->
		<link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
		<link rel="stylesheet" href="./css/index.css">
		<!-- import Vue before Element -->
		<script src="https://unpkg.com/vue/dist/vue.js"></script>
		<!-- import         JavaScript -->
		<script src="https://unpkg.com/element-ui/lib/index.js"></script>
		<!-- import JQuery -->
		<script src="https://cdn.staticfile.org/jquery/3.1.1/jquery.min.js"></script>
	</head>
	<body>
		<div class="searchbar" id="searchbar">
			<el-card class="box-card">
				<div>放logo</div>
					<el-form label-width="20%" :model="info" style="margin-top: 20%;width: 80%">
						<el-form-item label="输入">
							<el-input placeholder="" v-model="info.studentNumber" :disabled="false" style="width: 80%">
							<!-- <i slot="prefix" class="el-input__icon el-icon-user-solid"></i> -->
						</el-form-item>
						<el-button type="primary" @click="search">搜索</el-button>
						<el-button type="primary" @click="search">高级搜索</el-button>
					</el-form>
			</el-card>
		</div>
	</body>
	<script>
		new Vue({
			el: '#searchbar',
			data: function() {
				return {
					info: {
						query: '',
					},
					role:'user'
				}
			},
			methods: {
				currRole(selVal){
					this.role = selVal;
					sessionStorage.setItem('role', this.role);
				},
				search(){
					var _self = this;
					//测试用数据
					var result1 =[
					{'title':'Something Just Like This','abstract':'I\'ve been reading books of old The legends and the myths Achilles and his gold Hercules and his gifts Spider-Man\'s control And Batman with his fists And clearly I don\'t see myself upon that list But she said, where\'d you wanna go? How much you'},
					{'title':'Roxanne','abstract':'Roxanne You don\'t have to put on the red light Those days are over You don\'t have to sell your body to the night Roxanne You don\'t have to wear that dress tonight Walk the streets for money You don\'t care if it\'s wrong or if it\'s right Roxanne You don\'t have to put on the red light Roxanne You don\'t have to put on the red light Roxanne (Put on the red light)'},
					{'title':'一路向北','abstract':'後視鏡裡的世界 越來越遠的道別 你轉身向北 側臉還是很美 我用眼光去追 竟聽見你的淚 在車窗外面徘徊 是我錯失的機會 你站的方位 跟我中間隔著淚 街景一直在後退 你的崩潰在窗外零碎 我一路向北 離開有你的季節'}]
					localStorage.setItem('results',JSON.stringify(result1));
					window.location.href = 'result.html';
					// $.ajax({
					// 	url: "http://host:30000/search",
					// 	type: 'get',
					// 	dataType: 'json',
					// 	contentType:"application/json",
					// 	data: { info: JSON.stringify(_self.info) },
					// 	success: res => {
					// 		if(res.err == false){
					// 			sessionStorage.setItem('result',res.data.result);
					// 			_self.$message({
					// 				message: 'search success',
					// 				type: 'success',
					// 				center: true
					// 			});
					// 			setTimeout(() => { window.location.href = 'result.html'; }, 1000);
					// 		} else {
					// 			_self.$message({
					// 				message: '用户名或密码错误',
					// 				type: 'error',
					// 				center: true
					// 			});
					// 		}
					// 	},
					// 	error: err =>  console.log(err)
					// });
				},
				
			}
		});
	</script>
</html>